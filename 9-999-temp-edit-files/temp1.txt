public class Main {

    public static void main(String[] args) {
        System.out.println(incrementString("A0001")); // Output: A0002
        System.out.println(incrementString("A9999")); // Output: B0001
        System.out.println(incrementString("D0101")); // Output: D0102
        System.out.println(incrementString("A001"));  // Output: A002
        System.out.println(incrementString("A999"));  // Output: B001
        System.out.println(incrementString("D011"));  // Output: D012
        System.out.println(incrementString("Z999"));  // Output: AA001
        System.out.println(incrementString("ZZ9999"));// Output: AAA0001
        System.out.println(incrementString("ZA9999"));// Output: ZB0001
    }

    public static String incrementString(String input) {
        String letters = input.replaceAll("[0-9]", "");
        String numbers = input.replaceAll("[^0-9]", "");

        int numberPartLength = numbers.length();
        int incrementedNumber = Integer.parseInt(numbers) + 1;
        String incrementedNumberStr = String.format("%0" + numberPartLength + "d", incrementedNumber);

        if (incrementedNumberStr.length() > numberPartLength) {
            letters = incrementLetters(letters);
            incrementedNumberStr = incrementedNumberStr.substring(1);
        }

        return letters + incrementedNumberStr;
    }

    private static String incrementLetters(String letters) {
        char[] chars = letters.toCharArray();
        boolean carry = true;

        for (int i = chars.length - 1; i >= 0 && carry; i--) {
            if (chars[i] == 'Z') {
                chars[i] = 'A';
            } else {
                chars[i]++;
                carry = false;
            }
        }

        if (carry) {
            return "A" + new String(chars);
        }

        return new String(chars);
    }
}
